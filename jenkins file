def COLOR_MAP = ['SUCCESS': 'good', 'FAILURE': 'danger', 'UNSTABLE': 'danger', 'ABORTED': 'danger']
//def icons = ['SUCCESS' : 'man_dancing' , 'FAILURE' : 'ghost']
def icons = [":unicorn_face:",  ":man_dancing:", ":party_parrot:",  ":dancer:"]
def icons1 = [":Thermometer:", ":Bomb:"]
def randomIndex = (new Random()).nextInt(icons.size())
def randomIndex1 = (new Random()).nextInt(icons1.size())
pipeline {
   agent  { label ' Android_Slave' }
    options { skipDefaultCheckout() }
	environment { 
        branch = 'master' 
        credentialsId = 'dd'     // credential of jenkins 
        scmUrl = 'https://github.com/Dileep1314/new-gradle.git'
    } 
    stages {
        stage ('Build Stage') {
            agent none
            steps {
                script {
                    stage ('Checkout') {
                        echo 'THIS IS FOR CLONEING'
                        git branch: branch, credentialsId: credentialsId, url: scmUrl
                    }
                    stage ('BUILD') {
					    sh 'gradle clean build'
                        
                    }
				}
			
 post {
												success {
													slackSend(
															teamDomain: "AppOps-DST",
															token: "DqzedffuiSvvxBd1xiDOXuiC",
															channel: "#testing123",
															color: "good",
															message: "Jenkins build is success"
													)
												}
												failure {
													slackSend(
															teamDomain: "AppOps-DST",
															token: "DqzedffuiSvvxBd1xiDOXuiC",
															channel: "#testing123",
															color: "danger",
															message: "Jenkins build is failed "
													)
												}
	    
		
		}
		
		
			
    
	}
	

